{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "84d4d793",
   "metadata": {},
   "outputs": [],
   "source": [
    "%matplotlib inline\n",
    "import numpy as np\n",
    "import scipy as sp\n",
    "import scipy.stats as sps\n",
    "import matplotlib.pyplot as plt\n",
    "import pandas as pd\n",
    "import math\n",
    "import seaborn as sns"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "afb77d36",
   "metadata": {},
   "outputs": [],
   "source": [
    "data = pd.read_excel(\"project_data.xlsx\")\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f4a1f950",
   "metadata": {},
   "source": [
    "<font size=\"5\"> QUESTION 1"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8c07a8b5",
   "metadata": {},
   "source": [
    "First, separate data into the two given intervals (A & B):"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "ba096797",
   "metadata": {},
   "outputs": [],
   "source": [
    "interval_A = data.iloc[72:120,1:]\n",
    "interval_B = data.iloc[180:228,1:]\n",
    "\n",
    "#check\n",
    "#interval_A > -1\n",
    "#interval_B > -1"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "47c90ea5",
   "metadata": {},
   "source": [
    "Find the monthly log returns:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "c4ea1c5d",
   "metadata": {},
   "outputs": [],
   "source": [
    "log_ret_A = np.log(1+interval_A)\n",
    "log_ret_B = np.log(1+interval_B)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c9a36bc4",
   "metadata": {},
   "source": [
    "Find estimates for alpha:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "1c132181",
   "metadata": {},
   "outputs": [],
   "source": [
    "alpha_A = np.mean(log_ret_A)\n",
    "alpha_B = np.mean(log_ret_B)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "88ca3d5f",
   "metadata": {},
   "source": [
    "Mean (alpha) for each asset in each interval:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "id": "2eadb461",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Interval A\n",
      "Australian Equities          -0.000099\n",
      "Developed Market Equities    -0.002481\n",
      "Emerging Market Equities      0.006002\n",
      "Australian Listed Property   -0.017635\n",
      "Hedge Funds                   0.003770\n",
      "Australian Fixed Interest     0.005191\n",
      "Global Fixed Interest         0.006634\n",
      "Cash (Bank bills)             0.004545\n",
      "dtype: float64\n",
      "Interval B\n",
      "Australian Equities           0.008467\n",
      "Developed Market Equities     0.008766\n",
      "Emerging Market Equities      0.008727\n",
      "Australian Listed Property    0.008515\n",
      "Hedge Funds                   0.002870\n",
      "Australian Fixed Interest     0.003732\n",
      "Global Fixed Interest         0.003605\n",
      "Cash (Bank bills)             0.001495\n",
      "dtype: float64\n"
     ]
    }
   ],
   "source": [
    "print(\"Interval A\");\n",
    "print(alpha_A);\n",
    "print(\"Interval B\");\n",
    "print(alpha_B);\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "771d5863",
   "metadata": {},
   "source": [
    "Find estimates for Beta:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "4a8a361b",
   "metadata": {},
   "outputs": [],
   "source": [
    "beta_A = log_ret_A.cov()\n",
    "beta_B = log_ret_B.cov()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "85807a5b",
   "metadata": {},
   "source": [
    "Covariance matrix (Beta) for interval A:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "1c8ff2b2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>0.002593</td>\n",
       "      <td>0.002603</td>\n",
       "      <td>0.002974</td>\n",
       "      <td>0.002772</td>\n",
       "      <td>0.000875</td>\n",
       "      <td>-0.000216</td>\n",
       "      <td>0.000016</td>\n",
       "      <td>-0.000029</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>0.002603</td>\n",
       "      <td>0.003050</td>\n",
       "      <td>0.003384</td>\n",
       "      <td>0.002901</td>\n",
       "      <td>0.000984</td>\n",
       "      <td>-0.000229</td>\n",
       "      <td>0.000020</td>\n",
       "      <td>-0.000030</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>0.002974</td>\n",
       "      <td>0.003384</td>\n",
       "      <td>0.004852</td>\n",
       "      <td>0.002899</td>\n",
       "      <td>0.001298</td>\n",
       "      <td>-0.000347</td>\n",
       "      <td>0.000038</td>\n",
       "      <td>-0.000044</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>0.002772</td>\n",
       "      <td>0.002901</td>\n",
       "      <td>0.002899</td>\n",
       "      <td>0.005423</td>\n",
       "      <td>0.000787</td>\n",
       "      <td>-0.000042</td>\n",
       "      <td>0.000128</td>\n",
       "      <td>-0.000032</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>0.000875</td>\n",
       "      <td>0.000984</td>\n",
       "      <td>0.001298</td>\n",
       "      <td>0.000787</td>\n",
       "      <td>0.000514</td>\n",
       "      <td>-0.000125</td>\n",
       "      <td>-0.000014</td>\n",
       "      <td>-0.000014</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>-0.000216</td>\n",
       "      <td>-0.000229</td>\n",
       "      <td>-0.000347</td>\n",
       "      <td>-0.000042</td>\n",
       "      <td>-0.000125</td>\n",
       "      <td>0.000082</td>\n",
       "      <td>0.000036</td>\n",
       "      <td>0.000004</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>0.000016</td>\n",
       "      <td>0.000020</td>\n",
       "      <td>0.000038</td>\n",
       "      <td>0.000128</td>\n",
       "      <td>-0.000014</td>\n",
       "      <td>0.000036</td>\n",
       "      <td>0.000072</td>\n",
       "      <td>-0.000002</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>-0.000029</td>\n",
       "      <td>-0.000030</td>\n",
       "      <td>-0.000044</td>\n",
       "      <td>-0.000032</td>\n",
       "      <td>-0.000014</td>\n",
       "      <td>0.000004</td>\n",
       "      <td>-0.000002</td>\n",
       "      <td>0.000002</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                    0.002593                   0.002603   \n",
       "Developed Market Equities              0.002603                   0.003050   \n",
       "Emerging Market Equities               0.002974                   0.003384   \n",
       "Australian Listed Property             0.002772                   0.002901   \n",
       "Hedge Funds                            0.000875                   0.000984   \n",
       "Australian Fixed Interest             -0.000216                  -0.000229   \n",
       "Global Fixed Interest                  0.000016                   0.000020   \n",
       "Cash (Bank bills)                     -0.000029                  -0.000030   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                         0.002974   \n",
       "Developed Market Equities                   0.003384   \n",
       "Emerging Market Equities                    0.004852   \n",
       "Australian Listed Property                  0.002899   \n",
       "Hedge Funds                                 0.001298   \n",
       "Australian Fixed Interest                  -0.000347   \n",
       "Global Fixed Interest                       0.000038   \n",
       "Cash (Bank bills)                          -0.000044   \n",
       "\n",
       "                            Australian Listed Property  Hedge Funds  \\\n",
       "Australian Equities                           0.002772     0.000875   \n",
       "Developed Market Equities                     0.002901     0.000984   \n",
       "Emerging Market Equities                      0.002899     0.001298   \n",
       "Australian Listed Property                    0.005423     0.000787   \n",
       "Hedge Funds                                   0.000787     0.000514   \n",
       "Australian Fixed Interest                    -0.000042    -0.000125   \n",
       "Global Fixed Interest                         0.000128    -0.000014   \n",
       "Cash (Bank bills)                            -0.000032    -0.000014   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                         -0.000216               0.000016   \n",
       "Developed Market Equities                   -0.000229               0.000020   \n",
       "Emerging Market Equities                    -0.000347               0.000038   \n",
       "Australian Listed Property                  -0.000042               0.000128   \n",
       "Hedge Funds                                 -0.000125              -0.000014   \n",
       "Australian Fixed Interest                    0.000082               0.000036   \n",
       "Global Fixed Interest                        0.000036               0.000072   \n",
       "Cash (Bank bills)                            0.000004              -0.000002   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities                 -0.000029  \n",
       "Developed Market Equities           -0.000030  \n",
       "Emerging Market Equities            -0.000044  \n",
       "Australian Listed Property          -0.000032  \n",
       "Hedge Funds                         -0.000014  \n",
       "Australian Fixed Interest            0.000004  \n",
       "Global Fixed Interest               -0.000002  \n",
       "Cash (Bank bills)                    0.000002  "
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "beta_A"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "10ef8c3f",
   "metadata": {},
   "source": [
    "Covariance matrix (Beta) for interval B:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "8bf6cdd2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>7.626439e-04</td>\n",
       "      <td>5.248603e-04</td>\n",
       "      <td>3.126434e-04</td>\n",
       "      <td>0.000445</td>\n",
       "      <td>1.299270e-04</td>\n",
       "      <td>-2.403399e-06</td>\n",
       "      <td>-2.126335e-05</td>\n",
       "      <td>7.513459e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>5.248603e-04</td>\n",
       "      <td>9.178290e-04</td>\n",
       "      <td>7.717541e-04</td>\n",
       "      <td>0.000214</td>\n",
       "      <td>2.408826e-04</td>\n",
       "      <td>-6.953800e-05</td>\n",
       "      <td>-5.861962e-05</td>\n",
       "      <td>-3.001941e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>3.126434e-04</td>\n",
       "      <td>7.717541e-04</td>\n",
       "      <td>1.080126e-03</td>\n",
       "      <td>-0.000009</td>\n",
       "      <td>2.486874e-04</td>\n",
       "      <td>-7.400422e-05</td>\n",
       "      <td>-2.030846e-05</td>\n",
       "      <td>-3.828832e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>4.446740e-04</td>\n",
       "      <td>2.141879e-04</td>\n",
       "      <td>-9.474247e-06</td>\n",
       "      <td>0.001091</td>\n",
       "      <td>5.714203e-05</td>\n",
       "      <td>1.346917e-04</td>\n",
       "      <td>1.318320e-04</td>\n",
       "      <td>2.294283e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>1.299270e-04</td>\n",
       "      <td>2.408826e-04</td>\n",
       "      <td>2.486874e-04</td>\n",
       "      <td>0.000057</td>\n",
       "      <td>9.749187e-05</td>\n",
       "      <td>-9.934397e-06</td>\n",
       "      <td>-4.227444e-06</td>\n",
       "      <td>-2.691178e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>-2.403399e-06</td>\n",
       "      <td>-6.953800e-05</td>\n",
       "      <td>-7.400422e-05</td>\n",
       "      <td>0.000135</td>\n",
       "      <td>-9.934397e-06</td>\n",
       "      <td>6.406364e-05</td>\n",
       "      <td>4.669388e-05</td>\n",
       "      <td>6.337542e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>-2.126335e-05</td>\n",
       "      <td>-5.861962e-05</td>\n",
       "      <td>-2.030846e-05</td>\n",
       "      <td>0.000132</td>\n",
       "      <td>-4.227444e-06</td>\n",
       "      <td>4.669388e-05</td>\n",
       "      <td>5.844927e-05</td>\n",
       "      <td>4.057344e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>7.513459e-07</td>\n",
       "      <td>-3.001941e-07</td>\n",
       "      <td>-3.828832e-07</td>\n",
       "      <td>0.000002</td>\n",
       "      <td>-2.691178e-07</td>\n",
       "      <td>6.337542e-07</td>\n",
       "      <td>4.057344e-07</td>\n",
       "      <td>9.074448e-08</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                7.626439e-04               5.248603e-04   \n",
       "Developed Market Equities          5.248603e-04               9.178290e-04   \n",
       "Emerging Market Equities           3.126434e-04               7.717541e-04   \n",
       "Australian Listed Property         4.446740e-04               2.141879e-04   \n",
       "Hedge Funds                        1.299270e-04               2.408826e-04   \n",
       "Australian Fixed Interest         -2.403399e-06              -6.953800e-05   \n",
       "Global Fixed Interest             -2.126335e-05              -5.861962e-05   \n",
       "Cash (Bank bills)                  7.513459e-07              -3.001941e-07   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                     3.126434e-04   \n",
       "Developed Market Equities               7.717541e-04   \n",
       "Emerging Market Equities                1.080126e-03   \n",
       "Australian Listed Property             -9.474247e-06   \n",
       "Hedge Funds                             2.486874e-04   \n",
       "Australian Fixed Interest              -7.400422e-05   \n",
       "Global Fixed Interest                  -2.030846e-05   \n",
       "Cash (Bank bills)                      -3.828832e-07   \n",
       "\n",
       "                            Australian Listed Property   Hedge Funds  \\\n",
       "Australian Equities                           0.000445  1.299270e-04   \n",
       "Developed Market Equities                     0.000214  2.408826e-04   \n",
       "Emerging Market Equities                     -0.000009  2.486874e-04   \n",
       "Australian Listed Property                    0.001091  5.714203e-05   \n",
       "Hedge Funds                                   0.000057  9.749187e-05   \n",
       "Australian Fixed Interest                     0.000135 -9.934397e-06   \n",
       "Global Fixed Interest                         0.000132 -4.227444e-06   \n",
       "Cash (Bank bills)                             0.000002 -2.691178e-07   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                     -2.403399e-06          -2.126335e-05   \n",
       "Developed Market Equities               -6.953800e-05          -5.861962e-05   \n",
       "Emerging Market Equities                -7.400422e-05          -2.030846e-05   \n",
       "Australian Listed Property               1.346917e-04           1.318320e-04   \n",
       "Hedge Funds                             -9.934397e-06          -4.227444e-06   \n",
       "Australian Fixed Interest                6.406364e-05           4.669388e-05   \n",
       "Global Fixed Interest                    4.669388e-05           5.844927e-05   \n",
       "Cash (Bank bills)                        6.337542e-07           4.057344e-07   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities              7.513459e-07  \n",
       "Developed Market Equities       -3.001941e-07  \n",
       "Emerging Market Equities        -3.828832e-07  \n",
       "Australian Listed Property       2.294283e-06  \n",
       "Hedge Funds                     -2.691178e-07  \n",
       "Australian Fixed Interest        6.337542e-07  \n",
       "Global Fixed Interest            4.057344e-07  \n",
       "Cash (Bank bills)                9.074448e-08  "
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "beta_B\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e72a316b",
   "metadata": {},
   "source": [
    "<font size=\"5\"> QUESTION 3"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "3f1cbf32",
   "metadata": {},
   "source": [
    "Find yearly average returns for each year and average return overall:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "13e81ab2",
   "metadata": {},
   "outputs": [],
   "source": [
    "year_1A = np.sum(log_ret_A.iloc[:12,:])\n",
    "year_2A = np.sum(log_ret_A.iloc[12:24,:])\n",
    "year_3A = np.sum(log_ret_A.iloc[24:36,:])\n",
    "year_4A = np.sum(log_ret_A.iloc[36:,:])\n",
    "\n",
    "year_1B = np.sum(log_ret_B.iloc[:12,:])\n",
    "year_2B = np.sum(log_ret_B.iloc[12:24,:])\n",
    "year_3B = np.sum(log_ret_B.iloc[24:36,:])\n",
    "year_4B = np.sum(log_ret_B.iloc[36:,:])\n",
    "\n",
    "mu_A = (year_1A + year_2A + year_3A + year_4A)/4\n",
    "mu_B = (year_1B + year_2B + year_3B + year_4B)/4"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d3deb32e",
   "metadata": {},
   "source": [
    "Average 1-year return over entire period:\n",
    "Average 2-year return over entire period:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "1ee5dfab",
   "metadata": {},
   "outputs": [],
   "source": [
    "mean_1year_ret_A = mu_A\n",
    "mean_1year_ret_B = mu_B\n",
    "mean_2year_ret_A = mu_A*2\n",
    "mean_2year_ret_A = mu_A*2\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "649c4bd2",
   "metadata": {},
   "source": [
    "Covariance of returns 2007"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "0b0b435e",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>6.916446e-04</td>\n",
       "      <td>0.000573</td>\n",
       "      <td>0.000604</td>\n",
       "      <td>0.000875</td>\n",
       "      <td>0.000246</td>\n",
       "      <td>-8.267087e-06</td>\n",
       "      <td>-4.190784e-05</td>\n",
       "      <td>-8.141735e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>5.725462e-04</td>\n",
       "      <td>0.000651</td>\n",
       "      <td>0.000630</td>\n",
       "      <td>0.000780</td>\n",
       "      <td>0.000291</td>\n",
       "      <td>-3.195009e-05</td>\n",
       "      <td>-9.173512e-05</td>\n",
       "      <td>1.460908e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>6.039730e-04</td>\n",
       "      <td>0.000630</td>\n",
       "      <td>0.001742</td>\n",
       "      <td>0.000301</td>\n",
       "      <td>0.000470</td>\n",
       "      <td>-9.818406e-05</td>\n",
       "      <td>-9.199434e-05</td>\n",
       "      <td>1.806474e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>8.750124e-04</td>\n",
       "      <td>0.000780</td>\n",
       "      <td>0.000301</td>\n",
       "      <td>0.002228</td>\n",
       "      <td>0.000141</td>\n",
       "      <td>9.134912e-05</td>\n",
       "      <td>-1.390206e-05</td>\n",
       "      <td>-1.754841e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>2.460198e-04</td>\n",
       "      <td>0.000291</td>\n",
       "      <td>0.000470</td>\n",
       "      <td>0.000141</td>\n",
       "      <td>0.000208</td>\n",
       "      <td>-2.953945e-05</td>\n",
       "      <td>-4.598187e-05</td>\n",
       "      <td>1.048476e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>-8.267087e-06</td>\n",
       "      <td>-0.000032</td>\n",
       "      <td>-0.000098</td>\n",
       "      <td>0.000091</td>\n",
       "      <td>-0.000030</td>\n",
       "      <td>2.573874e-05</td>\n",
       "      <td>2.181042e-05</td>\n",
       "      <td>-6.477824e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>-4.190784e-05</td>\n",
       "      <td>-0.000092</td>\n",
       "      <td>-0.000092</td>\n",
       "      <td>-0.000014</td>\n",
       "      <td>-0.000046</td>\n",
       "      <td>2.181042e-05</td>\n",
       "      <td>4.269072e-05</td>\n",
       "      <td>-1.594129e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>-8.141735e-07</td>\n",
       "      <td>0.000001</td>\n",
       "      <td>0.000002</td>\n",
       "      <td>-0.000002</td>\n",
       "      <td>0.000001</td>\n",
       "      <td>-6.477824e-07</td>\n",
       "      <td>-1.594129e-07</td>\n",
       "      <td>8.691993e-08</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                6.916446e-04                   0.000573   \n",
       "Developed Market Equities          5.725462e-04                   0.000651   \n",
       "Emerging Market Equities           6.039730e-04                   0.000630   \n",
       "Australian Listed Property         8.750124e-04                   0.000780   \n",
       "Hedge Funds                        2.460198e-04                   0.000291   \n",
       "Australian Fixed Interest         -8.267087e-06                  -0.000032   \n",
       "Global Fixed Interest             -4.190784e-05                  -0.000092   \n",
       "Cash (Bank bills)                 -8.141735e-07                   0.000001   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                         0.000604   \n",
       "Developed Market Equities                   0.000630   \n",
       "Emerging Market Equities                    0.001742   \n",
       "Australian Listed Property                  0.000301   \n",
       "Hedge Funds                                 0.000470   \n",
       "Australian Fixed Interest                  -0.000098   \n",
       "Global Fixed Interest                      -0.000092   \n",
       "Cash (Bank bills)                           0.000002   \n",
       "\n",
       "                            Australian Listed Property  Hedge Funds  \\\n",
       "Australian Equities                           0.000875     0.000246   \n",
       "Developed Market Equities                     0.000780     0.000291   \n",
       "Emerging Market Equities                      0.000301     0.000470   \n",
       "Australian Listed Property                    0.002228     0.000141   \n",
       "Hedge Funds                                   0.000141     0.000208   \n",
       "Australian Fixed Interest                     0.000091    -0.000030   \n",
       "Global Fixed Interest                        -0.000014    -0.000046   \n",
       "Cash (Bank bills)                            -0.000002     0.000001   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                     -8.267087e-06          -4.190784e-05   \n",
       "Developed Market Equities               -3.195009e-05          -9.173512e-05   \n",
       "Emerging Market Equities                -9.818406e-05          -9.199434e-05   \n",
       "Australian Listed Property               9.134912e-05          -1.390206e-05   \n",
       "Hedge Funds                             -2.953945e-05          -4.598187e-05   \n",
       "Australian Fixed Interest                2.573874e-05           2.181042e-05   \n",
       "Global Fixed Interest                    2.181042e-05           4.269072e-05   \n",
       "Cash (Bank bills)                       -6.477824e-07          -1.594129e-07   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities             -8.141735e-07  \n",
       "Developed Market Equities        1.460908e-06  \n",
       "Emerging Market Equities         1.806474e-06  \n",
       "Australian Listed Property      -1.754841e-06  \n",
       "Hedge Funds                      1.048476e-06  \n",
       "Australian Fixed Interest       -6.477824e-07  \n",
       "Global Fixed Interest           -1.594129e-07  \n",
       "Cash (Bank bills)                8.691993e-08  "
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y1_A = log_ret_A.iloc[:12,:]\n",
    "log_ret_y1_A.cov()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "eaff6ddf",
   "metadata": {},
   "source": [
    "Covariance of returns 2008"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "bd3a6173",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>0.003735</td>\n",
       "      <td>0.003877</td>\n",
       "      <td>0.004973</td>\n",
       "      <td>0.004264</td>\n",
       "      <td>0.001252</td>\n",
       "      <td>-2.182701e-04</td>\n",
       "      <td>0.000091</td>\n",
       "      <td>-4.942097e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>0.003877</td>\n",
       "      <td>0.004471</td>\n",
       "      <td>0.005773</td>\n",
       "      <td>0.004611</td>\n",
       "      <td>0.001440</td>\n",
       "      <td>-2.393319e-04</td>\n",
       "      <td>0.000195</td>\n",
       "      <td>-9.146778e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>0.004973</td>\n",
       "      <td>0.005773</td>\n",
       "      <td>0.008880</td>\n",
       "      <td>0.005475</td>\n",
       "      <td>0.002089</td>\n",
       "      <td>-4.658061e-04</td>\n",
       "      <td>0.000323</td>\n",
       "      <td>-3.261864e-05</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>0.004264</td>\n",
       "      <td>0.004611</td>\n",
       "      <td>0.005475</td>\n",
       "      <td>0.009320</td>\n",
       "      <td>0.000815</td>\n",
       "      <td>-3.424851e-06</td>\n",
       "      <td>0.000249</td>\n",
       "      <td>2.418095e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>0.001252</td>\n",
       "      <td>0.001440</td>\n",
       "      <td>0.002089</td>\n",
       "      <td>0.000815</td>\n",
       "      <td>0.000832</td>\n",
       "      <td>-2.111530e-04</td>\n",
       "      <td>0.000033</td>\n",
       "      <td>-4.663244e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>-0.000218</td>\n",
       "      <td>-0.000239</td>\n",
       "      <td>-0.000466</td>\n",
       "      <td>-0.000003</td>\n",
       "      <td>-0.000211</td>\n",
       "      <td>1.059407e-04</td>\n",
       "      <td>0.000061</td>\n",
       "      <td>6.979472e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>0.000091</td>\n",
       "      <td>0.000195</td>\n",
       "      <td>0.000323</td>\n",
       "      <td>0.000249</td>\n",
       "      <td>0.000033</td>\n",
       "      <td>6.061395e-05</td>\n",
       "      <td>0.000158</td>\n",
       "      <td>-6.064968e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>-0.000005</td>\n",
       "      <td>-0.000009</td>\n",
       "      <td>-0.000033</td>\n",
       "      <td>0.000002</td>\n",
       "      <td>-0.000005</td>\n",
       "      <td>6.979472e-07</td>\n",
       "      <td>-0.000006</td>\n",
       "      <td>6.173684e-07</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                    0.003735                   0.003877   \n",
       "Developed Market Equities              0.003877                   0.004471   \n",
       "Emerging Market Equities               0.004973                   0.005773   \n",
       "Australian Listed Property             0.004264                   0.004611   \n",
       "Hedge Funds                            0.001252                   0.001440   \n",
       "Australian Fixed Interest             -0.000218                  -0.000239   \n",
       "Global Fixed Interest                  0.000091                   0.000195   \n",
       "Cash (Bank bills)                     -0.000005                  -0.000009   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                         0.004973   \n",
       "Developed Market Equities                   0.005773   \n",
       "Emerging Market Equities                    0.008880   \n",
       "Australian Listed Property                  0.005475   \n",
       "Hedge Funds                                 0.002089   \n",
       "Australian Fixed Interest                  -0.000466   \n",
       "Global Fixed Interest                       0.000323   \n",
       "Cash (Bank bills)                          -0.000033   \n",
       "\n",
       "                            Australian Listed Property  Hedge Funds  \\\n",
       "Australian Equities                           0.004264     0.001252   \n",
       "Developed Market Equities                     0.004611     0.001440   \n",
       "Emerging Market Equities                      0.005475     0.002089   \n",
       "Australian Listed Property                    0.009320     0.000815   \n",
       "Hedge Funds                                   0.000815     0.000832   \n",
       "Australian Fixed Interest                    -0.000003    -0.000211   \n",
       "Global Fixed Interest                         0.000249     0.000033   \n",
       "Cash (Bank bills)                             0.000002    -0.000005   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                     -2.182701e-04               0.000091   \n",
       "Developed Market Equities               -2.393319e-04               0.000195   \n",
       "Emerging Market Equities                -4.658061e-04               0.000323   \n",
       "Australian Listed Property              -3.424851e-06               0.000249   \n",
       "Hedge Funds                             -2.111530e-04               0.000033   \n",
       "Australian Fixed Interest                1.059407e-04               0.000061   \n",
       "Global Fixed Interest                    6.061395e-05               0.000158   \n",
       "Cash (Bank bills)                        6.979472e-07              -0.000006   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities             -4.942097e-06  \n",
       "Developed Market Equities       -9.146778e-06  \n",
       "Emerging Market Equities        -3.261864e-05  \n",
       "Australian Listed Property       2.418095e-06  \n",
       "Hedge Funds                     -4.663244e-06  \n",
       "Australian Fixed Interest        6.979472e-07  \n",
       "Global Fixed Interest           -6.064968e-06  \n",
       "Cash (Bank bills)                6.173684e-07  "
      ]
     },
     "execution_count": 20,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y2_A = log_ret_A.iloc[12:24,:]\n",
    "log_ret_y2_A.cov()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8f4544ed",
   "metadata": {},
   "source": [
    "Covariance of returns 2009"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "id": "a8cc23dd",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>0.001989</td>\n",
       "      <td>0.002230</td>\n",
       "      <td>0.001615</td>\n",
       "      <td>0.003256</td>\n",
       "      <td>2.501784e-04</td>\n",
       "      <td>0.000040</td>\n",
       "      <td>0.000204</td>\n",
       "      <td>-1.027969e-05</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>0.002230</td>\n",
       "      <td>0.003313</td>\n",
       "      <td>0.002792</td>\n",
       "      <td>0.003798</td>\n",
       "      <td>4.708544e-04</td>\n",
       "      <td>0.000047</td>\n",
       "      <td>0.000199</td>\n",
       "      <td>-1.301389e-05</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>0.001615</td>\n",
       "      <td>0.002792</td>\n",
       "      <td>0.003147</td>\n",
       "      <td>0.002137</td>\n",
       "      <td>4.966280e-04</td>\n",
       "      <td>-0.000031</td>\n",
       "      <td>0.000119</td>\n",
       "      <td>-1.061338e-05</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>0.003256</td>\n",
       "      <td>0.003798</td>\n",
       "      <td>0.002137</td>\n",
       "      <td>0.007444</td>\n",
       "      <td>6.721024e-04</td>\n",
       "      <td>0.000192</td>\n",
       "      <td>0.000311</td>\n",
       "      <td>-1.439892e-05</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>0.000250</td>\n",
       "      <td>0.000471</td>\n",
       "      <td>0.000497</td>\n",
       "      <td>0.000672</td>\n",
       "      <td>1.791740e-04</td>\n",
       "      <td>0.000035</td>\n",
       "      <td>0.000027</td>\n",
       "      <td>-9.712882e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>0.000040</td>\n",
       "      <td>0.000047</td>\n",
       "      <td>-0.000031</td>\n",
       "      <td>0.000192</td>\n",
       "      <td>3.544868e-05</td>\n",
       "      <td>0.000069</td>\n",
       "      <td>0.000010</td>\n",
       "      <td>1.551202e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>0.000204</td>\n",
       "      <td>0.000199</td>\n",
       "      <td>0.000119</td>\n",
       "      <td>0.000311</td>\n",
       "      <td>2.704483e-05</td>\n",
       "      <td>0.000010</td>\n",
       "      <td>0.000051</td>\n",
       "      <td>-2.042538e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>-0.000010</td>\n",
       "      <td>-0.000013</td>\n",
       "      <td>-0.000011</td>\n",
       "      <td>-0.000014</td>\n",
       "      <td>-9.712882e-07</td>\n",
       "      <td>0.000002</td>\n",
       "      <td>-0.000002</td>\n",
       "      <td>1.786265e-07</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                    0.001989                   0.002230   \n",
       "Developed Market Equities              0.002230                   0.003313   \n",
       "Emerging Market Equities               0.001615                   0.002792   \n",
       "Australian Listed Property             0.003256                   0.003798   \n",
       "Hedge Funds                            0.000250                   0.000471   \n",
       "Australian Fixed Interest              0.000040                   0.000047   \n",
       "Global Fixed Interest                  0.000204                   0.000199   \n",
       "Cash (Bank bills)                     -0.000010                  -0.000013   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                         0.001615   \n",
       "Developed Market Equities                   0.002792   \n",
       "Emerging Market Equities                    0.003147   \n",
       "Australian Listed Property                  0.002137   \n",
       "Hedge Funds                                 0.000497   \n",
       "Australian Fixed Interest                  -0.000031   \n",
       "Global Fixed Interest                       0.000119   \n",
       "Cash (Bank bills)                          -0.000011   \n",
       "\n",
       "                            Australian Listed Property   Hedge Funds  \\\n",
       "Australian Equities                           0.003256  2.501784e-04   \n",
       "Developed Market Equities                     0.003798  4.708544e-04   \n",
       "Emerging Market Equities                      0.002137  4.966280e-04   \n",
       "Australian Listed Property                    0.007444  6.721024e-04   \n",
       "Hedge Funds                                   0.000672  1.791740e-04   \n",
       "Australian Fixed Interest                     0.000192  3.544868e-05   \n",
       "Global Fixed Interest                         0.000311  2.704483e-05   \n",
       "Cash (Bank bills)                            -0.000014 -9.712882e-07   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                          0.000040               0.000204   \n",
       "Developed Market Equities                    0.000047               0.000199   \n",
       "Emerging Market Equities                    -0.000031               0.000119   \n",
       "Australian Listed Property                   0.000192               0.000311   \n",
       "Hedge Funds                                  0.000035               0.000027   \n",
       "Australian Fixed Interest                    0.000069               0.000010   \n",
       "Global Fixed Interest                        0.000010               0.000051   \n",
       "Cash (Bank bills)                            0.000002              -0.000002   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities             -1.027969e-05  \n",
       "Developed Market Equities       -1.301389e-05  \n",
       "Emerging Market Equities        -1.061338e-05  \n",
       "Australian Listed Property      -1.439892e-05  \n",
       "Hedge Funds                     -9.712882e-07  \n",
       "Australian Fixed Interest        1.551202e-06  \n",
       "Global Fixed Interest           -2.042538e-06  \n",
       "Cash (Bank bills)                1.786265e-07  "
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y3_A = log_ret_A.iloc[24:36,:]\n",
    "log_ret_y3_A.cov()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c04a267f",
   "metadata": {},
   "source": [
    "Covariance of returns 2010"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "1c9cfa2a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>0.001874</td>\n",
       "      <td>0.001994</td>\n",
       "      <td>0.001701</td>\n",
       "      <td>4.706659e-04</td>\n",
       "      <td>6.379495e-04</td>\n",
       "      <td>-3.061343e-04</td>\n",
       "      <td>-1.290525e-04</td>\n",
       "      <td>2.071859e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>0.001994</td>\n",
       "      <td>0.002329</td>\n",
       "      <td>0.001886</td>\n",
       "      <td>3.900750e-04</td>\n",
       "      <td>7.647009e-04</td>\n",
       "      <td>-3.789156e-04</td>\n",
       "      <td>-1.799257e-04</td>\n",
       "      <td>1.073912e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>0.001701</td>\n",
       "      <td>0.001886</td>\n",
       "      <td>0.001726</td>\n",
       "      <td>3.226659e-04</td>\n",
       "      <td>6.164799e-04</td>\n",
       "      <td>-2.993485e-04</td>\n",
       "      <td>-1.154362e-04</td>\n",
       "      <td>2.403438e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>0.000471</td>\n",
       "      <td>0.000390</td>\n",
       "      <td>0.000323</td>\n",
       "      <td>5.990885e-04</td>\n",
       "      <td>1.837319e-04</td>\n",
       "      <td>1.322729e-06</td>\n",
       "      <td>4.670071e-05</td>\n",
       "      <td>8.945339e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>0.000638</td>\n",
       "      <td>0.000765</td>\n",
       "      <td>0.000616</td>\n",
       "      <td>1.837319e-04</td>\n",
       "      <td>2.925361e-04</td>\n",
       "      <td>-1.173568e-04</td>\n",
       "      <td>-4.925647e-05</td>\n",
       "      <td>4.593021e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>-0.000306</td>\n",
       "      <td>-0.000379</td>\n",
       "      <td>-0.000299</td>\n",
       "      <td>1.322729e-06</td>\n",
       "      <td>-1.173568e-04</td>\n",
       "      <td>8.075151e-05</td>\n",
       "      <td>5.287732e-05</td>\n",
       "      <td>2.518917e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>-0.000129</td>\n",
       "      <td>-0.000180</td>\n",
       "      <td>-0.000115</td>\n",
       "      <td>4.670071e-05</td>\n",
       "      <td>-4.925647e-05</td>\n",
       "      <td>5.287732e-05</td>\n",
       "      <td>5.497426e-05</td>\n",
       "      <td>-1.707869e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>0.000002</td>\n",
       "      <td>0.000001</td>\n",
       "      <td>0.000002</td>\n",
       "      <td>8.945339e-07</td>\n",
       "      <td>4.593021e-07</td>\n",
       "      <td>2.518917e-07</td>\n",
       "      <td>-1.707869e-07</td>\n",
       "      <td>1.141647e-07</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                    0.001874                   0.001994   \n",
       "Developed Market Equities              0.001994                   0.002329   \n",
       "Emerging Market Equities               0.001701                   0.001886   \n",
       "Australian Listed Property             0.000471                   0.000390   \n",
       "Hedge Funds                            0.000638                   0.000765   \n",
       "Australian Fixed Interest             -0.000306                  -0.000379   \n",
       "Global Fixed Interest                 -0.000129                  -0.000180   \n",
       "Cash (Bank bills)                      0.000002                   0.000001   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                         0.001701   \n",
       "Developed Market Equities                   0.001886   \n",
       "Emerging Market Equities                    0.001726   \n",
       "Australian Listed Property                  0.000323   \n",
       "Hedge Funds                                 0.000616   \n",
       "Australian Fixed Interest                  -0.000299   \n",
       "Global Fixed Interest                      -0.000115   \n",
       "Cash (Bank bills)                           0.000002   \n",
       "\n",
       "                            Australian Listed Property   Hedge Funds  \\\n",
       "Australian Equities                       4.706659e-04  6.379495e-04   \n",
       "Developed Market Equities                 3.900750e-04  7.647009e-04   \n",
       "Emerging Market Equities                  3.226659e-04  6.164799e-04   \n",
       "Australian Listed Property                5.990885e-04  1.837319e-04   \n",
       "Hedge Funds                               1.837319e-04  2.925361e-04   \n",
       "Australian Fixed Interest                 1.322729e-06 -1.173568e-04   \n",
       "Global Fixed Interest                     4.670071e-05 -4.925647e-05   \n",
       "Cash (Bank bills)                         8.945339e-07  4.593021e-07   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                     -3.061343e-04          -1.290525e-04   \n",
       "Developed Market Equities               -3.789156e-04          -1.799257e-04   \n",
       "Emerging Market Equities                -2.993485e-04          -1.154362e-04   \n",
       "Australian Listed Property               1.322729e-06           4.670071e-05   \n",
       "Hedge Funds                             -1.173568e-04          -4.925647e-05   \n",
       "Australian Fixed Interest                8.075151e-05           5.287732e-05   \n",
       "Global Fixed Interest                    5.287732e-05           5.497426e-05   \n",
       "Cash (Bank bills)                        2.518917e-07          -1.707869e-07   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities              2.071859e-06  \n",
       "Developed Market Equities        1.073912e-06  \n",
       "Emerging Market Equities         2.403438e-06  \n",
       "Australian Listed Property       8.945339e-07  \n",
       "Hedge Funds                      4.593021e-07  \n",
       "Australian Fixed Interest        2.518917e-07  \n",
       "Global Fixed Interest           -1.707869e-07  \n",
       "Cash (Bank bills)                1.141647e-07  "
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y4_A = log_ret_A.iloc[36:,:]\n",
    "log_ret_y4_A.cov()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4f3bc8b8",
   "metadata": {},
   "source": [
    "Covariance of returns 2016"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "id": "3fcc142d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>1.305079e-03</td>\n",
       "      <td>9.630244e-04</td>\n",
       "      <td>6.064034e-04</td>\n",
       "      <td>0.000702</td>\n",
       "      <td>2.211597e-04</td>\n",
       "      <td>-0.000082</td>\n",
       "      <td>-0.000094</td>\n",
       "      <td>-5.959213e-08</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>9.630244e-04</td>\n",
       "      <td>8.207342e-04</td>\n",
       "      <td>6.619955e-04</td>\n",
       "      <td>0.000344</td>\n",
       "      <td>1.792837e-04</td>\n",
       "      <td>-0.000101</td>\n",
       "      <td>-0.000099</td>\n",
       "      <td>-8.162352e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>6.064034e-04</td>\n",
       "      <td>6.619955e-04</td>\n",
       "      <td>1.080521e-03</td>\n",
       "      <td>0.000109</td>\n",
       "      <td>1.242989e-04</td>\n",
       "      <td>-0.000026</td>\n",
       "      <td>0.000032</td>\n",
       "      <td>4.883923e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>7.016866e-04</td>\n",
       "      <td>3.442845e-04</td>\n",
       "      <td>1.089736e-04</td>\n",
       "      <td>0.001762</td>\n",
       "      <td>7.284457e-05</td>\n",
       "      <td>0.000195</td>\n",
       "      <td>0.000209</td>\n",
       "      <td>3.476445e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>2.211597e-04</td>\n",
       "      <td>1.792837e-04</td>\n",
       "      <td>1.242989e-04</td>\n",
       "      <td>0.000073</td>\n",
       "      <td>5.476528e-05</td>\n",
       "      <td>-0.000021</td>\n",
       "      <td>-0.000027</td>\n",
       "      <td>-5.150900e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>-8.180005e-05</td>\n",
       "      <td>-1.013344e-04</td>\n",
       "      <td>-2.591225e-05</td>\n",
       "      <td>0.000195</td>\n",
       "      <td>-2.060573e-05</td>\n",
       "      <td>0.000089</td>\n",
       "      <td>0.000082</td>\n",
       "      <td>1.330269e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>-9.425051e-05</td>\n",
       "      <td>-9.910486e-05</td>\n",
       "      <td>3.187695e-05</td>\n",
       "      <td>0.000209</td>\n",
       "      <td>-2.665566e-05</td>\n",
       "      <td>0.000082</td>\n",
       "      <td>0.000099</td>\n",
       "      <td>1.326179e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>-5.959213e-08</td>\n",
       "      <td>-8.162352e-07</td>\n",
       "      <td>4.883923e-07</td>\n",
       "      <td>0.000003</td>\n",
       "      <td>-5.150900e-07</td>\n",
       "      <td>0.000001</td>\n",
       "      <td>0.000001</td>\n",
       "      <td>5.315243e-08</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                1.305079e-03               9.630244e-04   \n",
       "Developed Market Equities          9.630244e-04               8.207342e-04   \n",
       "Emerging Market Equities           6.064034e-04               6.619955e-04   \n",
       "Australian Listed Property         7.016866e-04               3.442845e-04   \n",
       "Hedge Funds                        2.211597e-04               1.792837e-04   \n",
       "Australian Fixed Interest         -8.180005e-05              -1.013344e-04   \n",
       "Global Fixed Interest             -9.425051e-05              -9.910486e-05   \n",
       "Cash (Bank bills)                 -5.959213e-08              -8.162352e-07   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                     6.064034e-04   \n",
       "Developed Market Equities               6.619955e-04   \n",
       "Emerging Market Equities                1.080521e-03   \n",
       "Australian Listed Property              1.089736e-04   \n",
       "Hedge Funds                             1.242989e-04   \n",
       "Australian Fixed Interest              -2.591225e-05   \n",
       "Global Fixed Interest                   3.187695e-05   \n",
       "Cash (Bank bills)                       4.883923e-07   \n",
       "\n",
       "                            Australian Listed Property   Hedge Funds  \\\n",
       "Australian Equities                           0.000702  2.211597e-04   \n",
       "Developed Market Equities                     0.000344  1.792837e-04   \n",
       "Emerging Market Equities                      0.000109  1.242989e-04   \n",
       "Australian Listed Property                    0.001762  7.284457e-05   \n",
       "Hedge Funds                                   0.000073  5.476528e-05   \n",
       "Australian Fixed Interest                     0.000195 -2.060573e-05   \n",
       "Global Fixed Interest                         0.000209 -2.665566e-05   \n",
       "Cash (Bank bills)                             0.000003 -5.150900e-07   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                         -0.000082              -0.000094   \n",
       "Developed Market Equities                   -0.000101              -0.000099   \n",
       "Emerging Market Equities                    -0.000026               0.000032   \n",
       "Australian Listed Property                   0.000195               0.000209   \n",
       "Hedge Funds                                 -0.000021              -0.000027   \n",
       "Australian Fixed Interest                    0.000089               0.000082   \n",
       "Global Fixed Interest                        0.000082               0.000099   \n",
       "Cash (Bank bills)                            0.000001               0.000001   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities             -5.959213e-08  \n",
       "Developed Market Equities       -8.162352e-07  \n",
       "Emerging Market Equities         4.883923e-07  \n",
       "Australian Listed Property       3.476445e-06  \n",
       "Hedge Funds                     -5.150900e-07  \n",
       "Australian Fixed Interest        1.330269e-06  \n",
       "Global Fixed Interest            1.326179e-06  \n",
       "Cash (Bank bills)                5.315243e-08  "
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y1_B = log_ret_B.iloc[:12,:]\n",
    "log_ret_y1_B.cov()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e6e6a74f",
   "metadata": {},
   "source": [
    "Covariance of returns 2017"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "63d448a9",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>3.279267e-04</td>\n",
       "      <td>4.106290e-05</td>\n",
       "      <td>-2.292081e-05</td>\n",
       "      <td>0.000296</td>\n",
       "      <td>1.531252e-05</td>\n",
       "      <td>1.830408e-07</td>\n",
       "      <td>9.374596e-06</td>\n",
       "      <td>-3.284375e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>4.106290e-05</td>\n",
       "      <td>7.829044e-05</td>\n",
       "      <td>-3.116824e-06</td>\n",
       "      <td>0.000142</td>\n",
       "      <td>1.977700e-05</td>\n",
       "      <td>2.129438e-05</td>\n",
       "      <td>4.827140e-06</td>\n",
       "      <td>-1.642783e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>-2.292081e-05</td>\n",
       "      <td>-3.116824e-06</td>\n",
       "      <td>2.293807e-04</td>\n",
       "      <td>-0.000190</td>\n",
       "      <td>6.064692e-05</td>\n",
       "      <td>1.595202e-05</td>\n",
       "      <td>1.083778e-05</td>\n",
       "      <td>6.622016e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>2.964136e-04</td>\n",
       "      <td>1.424249e-04</td>\n",
       "      <td>-1.900495e-04</td>\n",
       "      <td>0.000963</td>\n",
       "      <td>4.023143e-05</td>\n",
       "      <td>7.057610e-05</td>\n",
       "      <td>7.620106e-05</td>\n",
       "      <td>-1.325178e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>1.531252e-05</td>\n",
       "      <td>1.977700e-05</td>\n",
       "      <td>6.064692e-05</td>\n",
       "      <td>0.000040</td>\n",
       "      <td>3.064060e-05</td>\n",
       "      <td>1.632031e-05</td>\n",
       "      <td>1.385850e-05</td>\n",
       "      <td>7.214366e-08</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>1.830408e-07</td>\n",
       "      <td>2.129438e-05</td>\n",
       "      <td>1.595202e-05</td>\n",
       "      <td>0.000071</td>\n",
       "      <td>1.632031e-05</td>\n",
       "      <td>4.184448e-05</td>\n",
       "      <td>1.074890e-05</td>\n",
       "      <td>1.061974e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>9.374596e-06</td>\n",
       "      <td>4.827140e-06</td>\n",
       "      <td>1.083778e-05</td>\n",
       "      <td>0.000076</td>\n",
       "      <td>1.385850e-05</td>\n",
       "      <td>1.074890e-05</td>\n",
       "      <td>2.131788e-05</td>\n",
       "      <td>-7.729820e-08</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>-3.284375e-07</td>\n",
       "      <td>-1.642783e-07</td>\n",
       "      <td>6.622016e-07</td>\n",
       "      <td>-0.000001</td>\n",
       "      <td>7.214366e-08</td>\n",
       "      <td>1.061974e-07</td>\n",
       "      <td>-7.729820e-08</td>\n",
       "      <td>4.297393e-09</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                3.279267e-04               4.106290e-05   \n",
       "Developed Market Equities          4.106290e-05               7.829044e-05   \n",
       "Emerging Market Equities          -2.292081e-05              -3.116824e-06   \n",
       "Australian Listed Property         2.964136e-04               1.424249e-04   \n",
       "Hedge Funds                        1.531252e-05               1.977700e-05   \n",
       "Australian Fixed Interest          1.830408e-07               2.129438e-05   \n",
       "Global Fixed Interest              9.374596e-06               4.827140e-06   \n",
       "Cash (Bank bills)                 -3.284375e-07              -1.642783e-07   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                    -2.292081e-05   \n",
       "Developed Market Equities              -3.116824e-06   \n",
       "Emerging Market Equities                2.293807e-04   \n",
       "Australian Listed Property             -1.900495e-04   \n",
       "Hedge Funds                             6.064692e-05   \n",
       "Australian Fixed Interest               1.595202e-05   \n",
       "Global Fixed Interest                   1.083778e-05   \n",
       "Cash (Bank bills)                       6.622016e-07   \n",
       "\n",
       "                            Australian Listed Property   Hedge Funds  \\\n",
       "Australian Equities                           0.000296  1.531252e-05   \n",
       "Developed Market Equities                     0.000142  1.977700e-05   \n",
       "Emerging Market Equities                     -0.000190  6.064692e-05   \n",
       "Australian Listed Property                    0.000963  4.023143e-05   \n",
       "Hedge Funds                                   0.000040  3.064060e-05   \n",
       "Australian Fixed Interest                     0.000071  1.632031e-05   \n",
       "Global Fixed Interest                         0.000076  1.385850e-05   \n",
       "Cash (Bank bills)                            -0.000001  7.214366e-08   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                      1.830408e-07           9.374596e-06   \n",
       "Developed Market Equities                2.129438e-05           4.827140e-06   \n",
       "Emerging Market Equities                 1.595202e-05           1.083778e-05   \n",
       "Australian Listed Property               7.057610e-05           7.620106e-05   \n",
       "Hedge Funds                              1.632031e-05           1.385850e-05   \n",
       "Australian Fixed Interest                4.184448e-05           1.074890e-05   \n",
       "Global Fixed Interest                    1.074890e-05           2.131788e-05   \n",
       "Cash (Bank bills)                        1.061974e-07          -7.729820e-08   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities             -3.284375e-07  \n",
       "Developed Market Equities       -1.642783e-07  \n",
       "Emerging Market Equities         6.622016e-07  \n",
       "Australian Listed Property      -1.325178e-06  \n",
       "Hedge Funds                      7.214366e-08  \n",
       "Australian Fixed Interest        1.061974e-07  \n",
       "Global Fixed Interest           -7.729820e-08  \n",
       "Cash (Bank bills)                4.297393e-09  "
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y2_B = log_ret_B.iloc[12:24,:]\n",
    "log_ret_y2_B.cov()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "74959b3b",
   "metadata": {},
   "source": [
    "Covariance of returns 2018"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "id": "ccf7ade2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>8.110476e-04</td>\n",
       "      <td>0.000573</td>\n",
       "      <td>3.884662e-04</td>\n",
       "      <td>0.000460</td>\n",
       "      <td>1.460337e-04</td>\n",
       "      <td>-2.648668e-05</td>\n",
       "      <td>-1.807710e-05</td>\n",
       "      <td>8.117220e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>5.727112e-04</td>\n",
       "      <td>0.001477</td>\n",
       "      <td>1.085701e-03</td>\n",
       "      <td>0.000196</td>\n",
       "      <td>4.082956e-04</td>\n",
       "      <td>-1.355235e-04</td>\n",
       "      <td>-1.108774e-04</td>\n",
       "      <td>2.218809e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>3.884662e-04</td>\n",
       "      <td>0.001086</td>\n",
       "      <td>1.366179e-03</td>\n",
       "      <td>0.000068</td>\n",
       "      <td>4.191215e-04</td>\n",
       "      <td>-9.424240e-05</td>\n",
       "      <td>-5.040965e-05</td>\n",
       "      <td>8.243793e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>4.599775e-04</td>\n",
       "      <td>0.000196</td>\n",
       "      <td>6.804320e-05</td>\n",
       "      <td>0.000720</td>\n",
       "      <td>4.558286e-05</td>\n",
       "      <td>4.851925e-05</td>\n",
       "      <td>6.908193e-05</td>\n",
       "      <td>1.485980e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>1.460337e-04</td>\n",
       "      <td>0.000408</td>\n",
       "      <td>4.191215e-04</td>\n",
       "      <td>0.000046</td>\n",
       "      <td>1.796016e-04</td>\n",
       "      <td>-2.923218e-05</td>\n",
       "      <td>-2.075725e-05</td>\n",
       "      <td>4.681393e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>-2.648668e-05</td>\n",
       "      <td>-0.000136</td>\n",
       "      <td>-9.424240e-05</td>\n",
       "      <td>0.000049</td>\n",
       "      <td>-2.923218e-05</td>\n",
       "      <td>3.104177e-05</td>\n",
       "      <td>2.905365e-05</td>\n",
       "      <td>-1.257930e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>-1.807710e-05</td>\n",
       "      <td>-0.000111</td>\n",
       "      <td>-5.040965e-05</td>\n",
       "      <td>0.000069</td>\n",
       "      <td>-2.075725e-05</td>\n",
       "      <td>2.905365e-05</td>\n",
       "      <td>3.465454e-05</td>\n",
       "      <td>-1.581438e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>8.117220e-07</td>\n",
       "      <td>0.000002</td>\n",
       "      <td>8.243793e-07</td>\n",
       "      <td>0.000001</td>\n",
       "      <td>4.681393e-07</td>\n",
       "      <td>-1.257930e-07</td>\n",
       "      <td>-1.581438e-07</td>\n",
       "      <td>2.305324e-08</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                8.110476e-04                   0.000573   \n",
       "Developed Market Equities          5.727112e-04                   0.001477   \n",
       "Emerging Market Equities           3.884662e-04                   0.001086   \n",
       "Australian Listed Property         4.599775e-04                   0.000196   \n",
       "Hedge Funds                        1.460337e-04                   0.000408   \n",
       "Australian Fixed Interest         -2.648668e-05                  -0.000136   \n",
       "Global Fixed Interest             -1.807710e-05                  -0.000111   \n",
       "Cash (Bank bills)                  8.117220e-07                   0.000002   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                     3.884662e-04   \n",
       "Developed Market Equities               1.085701e-03   \n",
       "Emerging Market Equities                1.366179e-03   \n",
       "Australian Listed Property              6.804320e-05   \n",
       "Hedge Funds                             4.191215e-04   \n",
       "Australian Fixed Interest              -9.424240e-05   \n",
       "Global Fixed Interest                  -5.040965e-05   \n",
       "Cash (Bank bills)                       8.243793e-07   \n",
       "\n",
       "                            Australian Listed Property   Hedge Funds  \\\n",
       "Australian Equities                           0.000460  1.460337e-04   \n",
       "Developed Market Equities                     0.000196  4.082956e-04   \n",
       "Emerging Market Equities                      0.000068  4.191215e-04   \n",
       "Australian Listed Property                    0.000720  4.558286e-05   \n",
       "Hedge Funds                                   0.000046  1.796016e-04   \n",
       "Australian Fixed Interest                     0.000049 -2.923218e-05   \n",
       "Global Fixed Interest                         0.000069 -2.075725e-05   \n",
       "Cash (Bank bills)                             0.000001  4.681393e-07   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                     -2.648668e-05          -1.807710e-05   \n",
       "Developed Market Equities               -1.355235e-04          -1.108774e-04   \n",
       "Emerging Market Equities                -9.424240e-05          -5.040965e-05   \n",
       "Australian Listed Property               4.851925e-05           6.908193e-05   \n",
       "Hedge Funds                             -2.923218e-05          -2.075725e-05   \n",
       "Australian Fixed Interest                3.104177e-05           2.905365e-05   \n",
       "Global Fixed Interest                    2.905365e-05           3.465454e-05   \n",
       "Cash (Bank bills)                       -1.257930e-07          -1.581438e-07   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities              8.117220e-07  \n",
       "Developed Market Equities        2.218809e-06  \n",
       "Emerging Market Equities         8.243793e-07  \n",
       "Australian Listed Property       1.485980e-06  \n",
       "Hedge Funds                      4.681393e-07  \n",
       "Australian Fixed Interest       -1.257930e-07  \n",
       "Global Fixed Interest           -1.581438e-07  \n",
       "Cash (Bank bills)                2.305324e-08  "
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y3_B = log_ret_B.iloc[24:36,:]\n",
    "log_ret_y3_B.cov()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "71c699d9",
   "metadata": {},
   "source": [
    "Covariance of returns 2019"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "id": "e456b372",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>0.000585</td>\n",
       "      <td>0.000364</td>\n",
       "      <td>8.741035e-05</td>\n",
       "      <td>0.000337</td>\n",
       "      <td>0.000058</td>\n",
       "      <td>0.000078</td>\n",
       "      <td>-0.000037</td>\n",
       "      <td>6.349054e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>0.000364</td>\n",
       "      <td>0.001120</td>\n",
       "      <td>1.118504e-03</td>\n",
       "      <td>0.000123</td>\n",
       "      <td>0.000253</td>\n",
       "      <td>-0.000106</td>\n",
       "      <td>-0.000105</td>\n",
       "      <td>2.837782e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>0.000087</td>\n",
       "      <td>0.001119</td>\n",
       "      <td>1.374182e-03</td>\n",
       "      <td>-0.000069</td>\n",
       "      <td>0.000282</td>\n",
       "      <td>-0.000215</td>\n",
       "      <td>-0.000125</td>\n",
       "      <td>5.577150e-07</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>0.000337</td>\n",
       "      <td>0.000123</td>\n",
       "      <td>-6.893997e-05</td>\n",
       "      <td>0.001136</td>\n",
       "      <td>0.000050</td>\n",
       "      <td>0.000248</td>\n",
       "      <td>0.000181</td>\n",
       "      <td>7.427238e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>0.000058</td>\n",
       "      <td>0.000253</td>\n",
       "      <td>2.822749e-04</td>\n",
       "      <td>0.000050</td>\n",
       "      <td>0.000082</td>\n",
       "      <td>-0.000020</td>\n",
       "      <td>-0.000006</td>\n",
       "      <td>1.240872e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>0.000078</td>\n",
       "      <td>-0.000106</td>\n",
       "      <td>-2.150041e-04</td>\n",
       "      <td>0.000248</td>\n",
       "      <td>-0.000020</td>\n",
       "      <td>0.000104</td>\n",
       "      <td>0.000073</td>\n",
       "      <td>2.259906e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>-0.000037</td>\n",
       "      <td>-0.000105</td>\n",
       "      <td>-1.247438e-04</td>\n",
       "      <td>0.000181</td>\n",
       "      <td>-0.000006</td>\n",
       "      <td>0.000073</td>\n",
       "      <td>0.000083</td>\n",
       "      <td>1.291954e-06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>0.000006</td>\n",
       "      <td>0.000003</td>\n",
       "      <td>5.577150e-07</td>\n",
       "      <td>0.000007</td>\n",
       "      <td>0.000001</td>\n",
       "      <td>0.000002</td>\n",
       "      <td>0.000001</td>\n",
       "      <td>1.737998e-07</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                    0.000585                   0.000364   \n",
       "Developed Market Equities              0.000364                   0.001120   \n",
       "Emerging Market Equities               0.000087                   0.001119   \n",
       "Australian Listed Property             0.000337                   0.000123   \n",
       "Hedge Funds                            0.000058                   0.000253   \n",
       "Australian Fixed Interest              0.000078                  -0.000106   \n",
       "Global Fixed Interest                 -0.000037                  -0.000105   \n",
       "Cash (Bank bills)                      0.000006                   0.000003   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                     8.741035e-05   \n",
       "Developed Market Equities               1.118504e-03   \n",
       "Emerging Market Equities                1.374182e-03   \n",
       "Australian Listed Property             -6.893997e-05   \n",
       "Hedge Funds                             2.822749e-04   \n",
       "Australian Fixed Interest              -2.150041e-04   \n",
       "Global Fixed Interest                  -1.247438e-04   \n",
       "Cash (Bank bills)                       5.577150e-07   \n",
       "\n",
       "                            Australian Listed Property  Hedge Funds  \\\n",
       "Australian Equities                           0.000337     0.000058   \n",
       "Developed Market Equities                     0.000123     0.000253   \n",
       "Emerging Market Equities                     -0.000069     0.000282   \n",
       "Australian Listed Property                    0.001136     0.000050   \n",
       "Hedge Funds                                   0.000050     0.000082   \n",
       "Australian Fixed Interest                     0.000248    -0.000020   \n",
       "Global Fixed Interest                         0.000181    -0.000006   \n",
       "Cash (Bank bills)                             0.000007     0.000001   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                          0.000078              -0.000037   \n",
       "Developed Market Equities                   -0.000106              -0.000105   \n",
       "Emerging Market Equities                    -0.000215              -0.000125   \n",
       "Australian Listed Property                   0.000248               0.000181   \n",
       "Hedge Funds                                 -0.000020              -0.000006   \n",
       "Australian Fixed Interest                    0.000104               0.000073   \n",
       "Global Fixed Interest                        0.000073               0.000083   \n",
       "Cash (Bank bills)                            0.000002               0.000001   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities              6.349054e-06  \n",
       "Developed Market Equities        2.837782e-06  \n",
       "Emerging Market Equities         5.577150e-07  \n",
       "Australian Listed Property       7.427238e-06  \n",
       "Hedge Funds                      1.240872e-06  \n",
       "Australian Fixed Interest        2.259906e-06  \n",
       "Global Fixed Interest            1.291954e-06  \n",
       "Cash (Bank bills)                1.737998e-07  "
      ]
     },
     "execution_count": 26,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y4_B = log_ret_B.iloc[36:,:]\n",
    "log_ret_y4_B.cov()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "61d5ce08",
   "metadata": {},
   "source": [
    "Correlation matrix for 2007"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "id": "33912d02",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.853402</td>\n",
       "      <td>0.550195</td>\n",
       "      <td>0.704906</td>\n",
       "      <td>0.649379</td>\n",
       "      <td>-0.061961</td>\n",
       "      <td>-0.243886</td>\n",
       "      <td>-0.105006</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>0.853402</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.591251</td>\n",
       "      <td>0.647498</td>\n",
       "      <td>0.791628</td>\n",
       "      <td>-0.246867</td>\n",
       "      <td>-0.550368</td>\n",
       "      <td>0.194244</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>0.550195</td>\n",
       "      <td>0.591251</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.152954</td>\n",
       "      <td>0.781016</td>\n",
       "      <td>-0.463648</td>\n",
       "      <td>-0.337315</td>\n",
       "      <td>0.146796</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>0.704906</td>\n",
       "      <td>0.647498</td>\n",
       "      <td>0.152954</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.207164</td>\n",
       "      <td>0.381478</td>\n",
       "      <td>-0.045079</td>\n",
       "      <td>-0.126106</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>0.649379</td>\n",
       "      <td>0.791628</td>\n",
       "      <td>0.781016</td>\n",
       "      <td>0.207164</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.404184</td>\n",
       "      <td>-0.488528</td>\n",
       "      <td>0.246870</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>-0.061961</td>\n",
       "      <td>-0.246867</td>\n",
       "      <td>-0.463648</td>\n",
       "      <td>0.381478</td>\n",
       "      <td>-0.404184</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.657966</td>\n",
       "      <td>-0.433088</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>-0.243886</td>\n",
       "      <td>-0.550368</td>\n",
       "      <td>-0.337315</td>\n",
       "      <td>-0.045079</td>\n",
       "      <td>-0.488528</td>\n",
       "      <td>0.657966</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.082756</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>-0.105006</td>\n",
       "      <td>0.194244</td>\n",
       "      <td>0.146796</td>\n",
       "      <td>-0.126106</td>\n",
       "      <td>0.246870</td>\n",
       "      <td>-0.433088</td>\n",
       "      <td>-0.082756</td>\n",
       "      <td>1.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                    1.000000                   0.853402   \n",
       "Developed Market Equities              0.853402                   1.000000   \n",
       "Emerging Market Equities               0.550195                   0.591251   \n",
       "Australian Listed Property             0.704906                   0.647498   \n",
       "Hedge Funds                            0.649379                   0.791628   \n",
       "Australian Fixed Interest             -0.061961                  -0.246867   \n",
       "Global Fixed Interest                 -0.243886                  -0.550368   \n",
       "Cash (Bank bills)                     -0.105006                   0.194244   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                         0.550195   \n",
       "Developed Market Equities                   0.591251   \n",
       "Emerging Market Equities                    1.000000   \n",
       "Australian Listed Property                  0.152954   \n",
       "Hedge Funds                                 0.781016   \n",
       "Australian Fixed Interest                  -0.463648   \n",
       "Global Fixed Interest                      -0.337315   \n",
       "Cash (Bank bills)                           0.146796   \n",
       "\n",
       "                            Australian Listed Property  Hedge Funds  \\\n",
       "Australian Equities                           0.704906     0.649379   \n",
       "Developed Market Equities                     0.647498     0.791628   \n",
       "Emerging Market Equities                      0.152954     0.781016   \n",
       "Australian Listed Property                    1.000000     0.207164   \n",
       "Hedge Funds                                   0.207164     1.000000   \n",
       "Australian Fixed Interest                     0.381478    -0.404184   \n",
       "Global Fixed Interest                        -0.045079    -0.488528   \n",
       "Cash (Bank bills)                            -0.126106     0.246870   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                         -0.061961              -0.243886   \n",
       "Developed Market Equities                   -0.246867              -0.550368   \n",
       "Emerging Market Equities                    -0.463648              -0.337315   \n",
       "Australian Listed Property                   0.381478              -0.045079   \n",
       "Hedge Funds                                 -0.404184              -0.488528   \n",
       "Australian Fixed Interest                    1.000000               0.657966   \n",
       "Global Fixed Interest                        0.657966               1.000000   \n",
       "Cash (Bank bills)                           -0.433088              -0.082756   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities                 -0.105006  \n",
       "Developed Market Equities            0.194244  \n",
       "Emerging Market Equities             0.146796  \n",
       "Australian Listed Property          -0.126106  \n",
       "Hedge Funds                          0.246870  \n",
       "Australian Fixed Interest           -0.433088  \n",
       "Global Fixed Interest               -0.082756  \n",
       "Cash (Bank bills)                    1.000000  "
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y1_A.corr()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "eea37e69",
   "metadata": {},
   "source": [
    "Correlation matrix for 2008:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "id": "aacdfe8e",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.948720</td>\n",
       "      <td>0.863526</td>\n",
       "      <td>0.722773</td>\n",
       "      <td>0.710014</td>\n",
       "      <td>-0.346992</td>\n",
       "      <td>0.118915</td>\n",
       "      <td>-0.102919</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>0.948720</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.916300</td>\n",
       "      <td>0.714268</td>\n",
       "      <td>0.746658</td>\n",
       "      <td>-0.347746</td>\n",
       "      <td>0.231563</td>\n",
       "      <td>-0.174096</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>0.863526</td>\n",
       "      <td>0.916300</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.601880</td>\n",
       "      <td>0.768450</td>\n",
       "      <td>-0.480263</td>\n",
       "      <td>0.273061</td>\n",
       "      <td>-0.440554</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>0.722773</td>\n",
       "      <td>0.714268</td>\n",
       "      <td>0.601880</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.292734</td>\n",
       "      <td>-0.003447</td>\n",
       "      <td>0.204964</td>\n",
       "      <td>0.031878</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>0.710014</td>\n",
       "      <td>0.746658</td>\n",
       "      <td>0.768450</td>\n",
       "      <td>0.292734</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.711058</td>\n",
       "      <td>0.092267</td>\n",
       "      <td>-0.205710</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>-0.346992</td>\n",
       "      <td>-0.347746</td>\n",
       "      <td>-0.480263</td>\n",
       "      <td>-0.003447</td>\n",
       "      <td>-0.711058</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.468601</td>\n",
       "      <td>0.086302</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>0.118915</td>\n",
       "      <td>0.231563</td>\n",
       "      <td>0.273061</td>\n",
       "      <td>0.204964</td>\n",
       "      <td>0.092267</td>\n",
       "      <td>0.468601</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.614213</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>-0.102919</td>\n",
       "      <td>-0.174096</td>\n",
       "      <td>-0.440554</td>\n",
       "      <td>0.031878</td>\n",
       "      <td>-0.205710</td>\n",
       "      <td>0.086302</td>\n",
       "      <td>-0.614213</td>\n",
       "      <td>1.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                    1.000000                   0.948720   \n",
       "Developed Market Equities              0.948720                   1.000000   \n",
       "Emerging Market Equities               0.863526                   0.916300   \n",
       "Australian Listed Property             0.722773                   0.714268   \n",
       "Hedge Funds                            0.710014                   0.746658   \n",
       "Australian Fixed Interest             -0.346992                  -0.347746   \n",
       "Global Fixed Interest                  0.118915                   0.231563   \n",
       "Cash (Bank bills)                     -0.102919                  -0.174096   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                         0.863526   \n",
       "Developed Market Equities                   0.916300   \n",
       "Emerging Market Equities                    1.000000   \n",
       "Australian Listed Property                  0.601880   \n",
       "Hedge Funds                                 0.768450   \n",
       "Australian Fixed Interest                  -0.480263   \n",
       "Global Fixed Interest                       0.273061   \n",
       "Cash (Bank bills)                          -0.440554   \n",
       "\n",
       "                            Australian Listed Property  Hedge Funds  \\\n",
       "Australian Equities                           0.722773     0.710014   \n",
       "Developed Market Equities                     0.714268     0.746658   \n",
       "Emerging Market Equities                      0.601880     0.768450   \n",
       "Australian Listed Property                    1.000000     0.292734   \n",
       "Hedge Funds                                   0.292734     1.000000   \n",
       "Australian Fixed Interest                    -0.003447    -0.711058   \n",
       "Global Fixed Interest                         0.204964     0.092267   \n",
       "Cash (Bank bills)                             0.031878    -0.205710   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                         -0.346992               0.118915   \n",
       "Developed Market Equities                   -0.347746               0.231563   \n",
       "Emerging Market Equities                    -0.480263               0.273061   \n",
       "Australian Listed Property                  -0.003447               0.204964   \n",
       "Hedge Funds                                 -0.711058               0.092267   \n",
       "Australian Fixed Interest                    1.000000               0.468601   \n",
       "Global Fixed Interest                        0.468601               1.000000   \n",
       "Cash (Bank bills)                            0.086302              -0.614213   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities                 -0.102919  \n",
       "Developed Market Equities           -0.174096  \n",
       "Emerging Market Equities            -0.440554  \n",
       "Australian Listed Property           0.031878  \n",
       "Hedge Funds                         -0.205710  \n",
       "Australian Fixed Interest            0.086302  \n",
       "Global Fixed Interest               -0.614213  \n",
       "Cash (Bank bills)                    1.000000  "
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y2_A.corr()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ae20d2b5",
   "metadata": {},
   "source": [
    "Correlation matrix for 2016:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "id": "bed80433",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.930503</td>\n",
       "      <td>0.510654</td>\n",
       "      <td>0.462727</td>\n",
       "      <td>0.827246</td>\n",
       "      <td>-0.239884</td>\n",
       "      <td>-0.261908</td>\n",
       "      <td>-0.007155</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>0.930503</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.702971</td>\n",
       "      <td>0.286297</td>\n",
       "      <td>0.845643</td>\n",
       "      <td>-0.374732</td>\n",
       "      <td>-0.347279</td>\n",
       "      <td>-0.123581</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>0.510654</td>\n",
       "      <td>0.702971</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.078978</td>\n",
       "      <td>0.510973</td>\n",
       "      <td>-0.083513</td>\n",
       "      <td>0.097352</td>\n",
       "      <td>0.064445</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>0.462727</td>\n",
       "      <td>0.286297</td>\n",
       "      <td>0.078978</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.234501</td>\n",
       "      <td>0.490977</td>\n",
       "      <td>0.499117</td>\n",
       "      <td>0.359231</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>0.827246</td>\n",
       "      <td>0.845643</td>\n",
       "      <td>0.510973</td>\n",
       "      <td>0.234501</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.294986</td>\n",
       "      <td>-0.361594</td>\n",
       "      <td>-0.301904</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>-0.239884</td>\n",
       "      <td>-0.374732</td>\n",
       "      <td>-0.083513</td>\n",
       "      <td>0.490977</td>\n",
       "      <td>-0.294986</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.875301</td>\n",
       "      <td>0.611285</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>-0.261908</td>\n",
       "      <td>-0.347279</td>\n",
       "      <td>0.097352</td>\n",
       "      <td>0.499117</td>\n",
       "      <td>-0.361594</td>\n",
       "      <td>0.875301</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.577464</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>-0.007155</td>\n",
       "      <td>-0.123581</td>\n",
       "      <td>0.064445</td>\n",
       "      <td>0.359231</td>\n",
       "      <td>-0.301904</td>\n",
       "      <td>0.611285</td>\n",
       "      <td>0.577464</td>\n",
       "      <td>1.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                    1.000000                   0.930503   \n",
       "Developed Market Equities              0.930503                   1.000000   \n",
       "Emerging Market Equities               0.510654                   0.702971   \n",
       "Australian Listed Property             0.462727                   0.286297   \n",
       "Hedge Funds                            0.827246                   0.845643   \n",
       "Australian Fixed Interest             -0.239884                  -0.374732   \n",
       "Global Fixed Interest                 -0.261908                  -0.347279   \n",
       "Cash (Bank bills)                     -0.007155                  -0.123581   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                         0.510654   \n",
       "Developed Market Equities                   0.702971   \n",
       "Emerging Market Equities                    1.000000   \n",
       "Australian Listed Property                  0.078978   \n",
       "Hedge Funds                                 0.510973   \n",
       "Australian Fixed Interest                  -0.083513   \n",
       "Global Fixed Interest                       0.097352   \n",
       "Cash (Bank bills)                           0.064445   \n",
       "\n",
       "                            Australian Listed Property  Hedge Funds  \\\n",
       "Australian Equities                           0.462727     0.827246   \n",
       "Developed Market Equities                     0.286297     0.845643   \n",
       "Emerging Market Equities                      0.078978     0.510973   \n",
       "Australian Listed Property                    1.000000     0.234501   \n",
       "Hedge Funds                                   0.234501     1.000000   \n",
       "Australian Fixed Interest                     0.490977    -0.294986   \n",
       "Global Fixed Interest                         0.499117    -0.361594   \n",
       "Cash (Bank bills)                             0.359231    -0.301904   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                         -0.239884              -0.261908   \n",
       "Developed Market Equities                   -0.374732              -0.347279   \n",
       "Emerging Market Equities                    -0.083513               0.097352   \n",
       "Australian Listed Property                   0.490977               0.499117   \n",
       "Hedge Funds                                 -0.294986              -0.361594   \n",
       "Australian Fixed Interest                    1.000000               0.875301   \n",
       "Global Fixed Interest                        0.875301               1.000000   \n",
       "Cash (Bank bills)                            0.611285               0.577464   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities                 -0.007155  \n",
       "Developed Market Equities           -0.123581  \n",
       "Emerging Market Equities             0.064445  \n",
       "Australian Listed Property           0.359231  \n",
       "Hedge Funds                         -0.301904  \n",
       "Australian Fixed Interest            0.611285  \n",
       "Global Fixed Interest                0.577464  \n",
       "Cash (Bank bills)                    1.000000  "
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y1_B.corr()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e347918a",
   "metadata": {},
   "source": [
    "Correlation matrix for 2017:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "id": "83eaed25",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Australian Equities</th>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <th>Hedge Funds</th>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Australian Equities</th>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.256275</td>\n",
       "      <td>-0.083572</td>\n",
       "      <td>0.527505</td>\n",
       "      <td>0.152760</td>\n",
       "      <td>0.001563</td>\n",
       "      <td>0.112122</td>\n",
       "      <td>-0.276670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Developed Market Equities</th>\n",
       "      <td>0.256275</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.023258</td>\n",
       "      <td>0.518738</td>\n",
       "      <td>0.403792</td>\n",
       "      <td>0.372042</td>\n",
       "      <td>0.118158</td>\n",
       "      <td>-0.283220</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Emerging Market Equities</th>\n",
       "      <td>-0.083572</td>\n",
       "      <td>-0.023258</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.404394</td>\n",
       "      <td>0.723405</td>\n",
       "      <td>0.162824</td>\n",
       "      <td>0.154985</td>\n",
       "      <td>0.666975</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Listed Property</th>\n",
       "      <td>0.527505</td>\n",
       "      <td>0.518738</td>\n",
       "      <td>-0.404394</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.234225</td>\n",
       "      <td>0.351605</td>\n",
       "      <td>0.531870</td>\n",
       "      <td>-0.651461</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Hedge Funds</th>\n",
       "      <td>0.152760</td>\n",
       "      <td>0.403792</td>\n",
       "      <td>0.723405</td>\n",
       "      <td>0.234225</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.455786</td>\n",
       "      <td>0.542245</td>\n",
       "      <td>0.198814</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Australian Fixed Interest</th>\n",
       "      <td>0.001563</td>\n",
       "      <td>0.372042</td>\n",
       "      <td>0.162824</td>\n",
       "      <td>0.351605</td>\n",
       "      <td>0.455786</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.359893</td>\n",
       "      <td>0.250433</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Global Fixed Interest</th>\n",
       "      <td>0.112122</td>\n",
       "      <td>0.118158</td>\n",
       "      <td>0.154985</td>\n",
       "      <td>0.531870</td>\n",
       "      <td>0.542245</td>\n",
       "      <td>0.359893</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.255385</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Cash (Bank bills)</th>\n",
       "      <td>-0.276670</td>\n",
       "      <td>-0.283220</td>\n",
       "      <td>0.666975</td>\n",
       "      <td>-0.651461</td>\n",
       "      <td>0.198814</td>\n",
       "      <td>0.250433</td>\n",
       "      <td>-0.255385</td>\n",
       "      <td>1.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                            Australian Equities  Developed Market Equities  \\\n",
       "Australian Equities                    1.000000                   0.256275   \n",
       "Developed Market Equities              0.256275                   1.000000   \n",
       "Emerging Market Equities              -0.083572                  -0.023258   \n",
       "Australian Listed Property             0.527505                   0.518738   \n",
       "Hedge Funds                            0.152760                   0.403792   \n",
       "Australian Fixed Interest              0.001563                   0.372042   \n",
       "Global Fixed Interest                  0.112122                   0.118158   \n",
       "Cash (Bank bills)                     -0.276670                  -0.283220   \n",
       "\n",
       "                            Emerging Market Equities  \\\n",
       "Australian Equities                        -0.083572   \n",
       "Developed Market Equities                  -0.023258   \n",
       "Emerging Market Equities                    1.000000   \n",
       "Australian Listed Property                 -0.404394   \n",
       "Hedge Funds                                 0.723405   \n",
       "Australian Fixed Interest                   0.162824   \n",
       "Global Fixed Interest                       0.154985   \n",
       "Cash (Bank bills)                           0.666975   \n",
       "\n",
       "                            Australian Listed Property  Hedge Funds  \\\n",
       "Australian Equities                           0.527505     0.152760   \n",
       "Developed Market Equities                     0.518738     0.403792   \n",
       "Emerging Market Equities                     -0.404394     0.723405   \n",
       "Australian Listed Property                    1.000000     0.234225   \n",
       "Hedge Funds                                   0.234225     1.000000   \n",
       "Australian Fixed Interest                     0.351605     0.455786   \n",
       "Global Fixed Interest                         0.531870     0.542245   \n",
       "Cash (Bank bills)                            -0.651461     0.198814   \n",
       "\n",
       "                            Australian Fixed Interest  Global Fixed Interest  \\\n",
       "Australian Equities                          0.001563               0.112122   \n",
       "Developed Market Equities                    0.372042               0.118158   \n",
       "Emerging Market Equities                     0.162824               0.154985   \n",
       "Australian Listed Property                   0.351605               0.531870   \n",
       "Hedge Funds                                  0.455786               0.542245   \n",
       "Australian Fixed Interest                    1.000000               0.359893   \n",
       "Global Fixed Interest                        0.359893               1.000000   \n",
       "Cash (Bank bills)                            0.250433              -0.255385   \n",
       "\n",
       "                            Cash (Bank bills)  \n",
       "Australian Equities                 -0.276670  \n",
       "Developed Market Equities           -0.283220  \n",
       "Emerging Market Equities             0.666975  \n",
       "Australian Listed Property          -0.651461  \n",
       "Hedge Funds                          0.198814  \n",
       "Australian Fixed Interest            0.250433  \n",
       "Global Fixed Interest               -0.255385  \n",
       "Cash (Bank bills)                    1.000000  "
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "log_ret_y2_B.corr()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ee4692e5-fdb6-42ae-822e-f6bfb4f3292f",
   "metadata": {},
   "source": [
    "## QUESTION 4_a"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "85847fae-ba1e-43e9-899e-14651312fa5b",
   "metadata": {},
   "source": [
    "### Utility maximisation"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "599ab6b0-1df1-47a0-83cf-91b7ad29112b",
   "metadata": {},
   "source": [
    "#### For period A & B two years"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "bec25a1c-89ec-4bef-b402-a3f47a6fb7d3",
   "metadata": {},
   "outputs": [],
   "source": [
    "def annual_return(returns, n_periods):\n",
    "    r_periodic_mean = ((1+returns).prod())**(1/returns.shape[0])-1\n",
    "    return (1+r_periodic_mean)**n_periods-1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "a8cf41fe-2e7e-4bc7-9c9b-c213a313285f",
   "metadata": {},
   "outputs": [],
   "source": [
    "def annual_vol(returns, n_periods):\n",
    "    return returns.std()*np.sqrt(n_periods)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "id": "0a19a447-ee31-462e-9a53-ad710ca0c271",
   "metadata": {},
   "outputs": [],
   "source": [
    "annual_2A = annual_return(log_ret_A, 24) \n",
    "annual_2B = annual_return(log_ret_B, 24)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "id": "2cb6b0d5-5487-4b3c-abb4-2dc8ad31ee10",
   "metadata": {},
   "outputs": [],
   "source": [
    "annual_volA = annual_vol(log_ret_A, 24)\n",
    "annual_volB = annual_vol(log_ret_B, 24)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "id": "72b8ffd1-49d5-4c5f-a237-c3fb93bdb143",
   "metadata": {},
   "outputs": [],
   "source": [
    "annual_covA = np.cov(log_ret_A, rowvar=False)*24\n",
    "annual_covB = np.cov(log_ret_B, rowvar=False)*24"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "id": "23dac90d-ee40-4813-9ea7-38304d18d2bf",
   "metadata": {},
   "outputs": [],
   "source": [
    "w = np.random.random_sample(8)\n",
    "w = w/np.sum(w)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "id": "ca90b0e5-4ad9-49b3-a60d-cfa9be126b9c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.019187736499590106"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "maxU_A = -w@annual_2A+1/2*(w.T@annual_covA@w)\n",
    "maxU_A"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "id": "4210e167-e682-452f-abf7-d7133e4b450c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "-0.14571820105433275"
      ]
     },
     "execution_count": 37,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "maxU_B = -w@annual_2B+1/2*(w.T@annual_covB@w)\n",
    "maxU_B"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4f8764e6-5508-4ee9-ac22-f3f475a7223d",
   "metadata": {},
   "source": [
    "## QUESTION 4_c"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "id": "0f08b91a-9d19-40eb-8c07-7ed39ed2871d",
   "metadata": {},
   "outputs": [],
   "source": [
    "interval_C = data.iloc[228:252,1:]\n",
    "log_ret_C = np.log(1+interval_C)\n",
    "annual_2C = annual_return(log_ret_C, 24)\n",
    "annual_volC = annual_vol(log_ret_C, 24)\n",
    "annual_covC = np.cov(log_ret_C, rowvar=False)*24"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "id": "6b874d49-1cf3-45de-ad3e-11f97e410cfa",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "-0.02675412752233172"
      ]
     },
     "execution_count": 43,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "maxU_C = -w@annual_2C+1/2*(w.T@annual_covC@w)\n",
    "maxU_C"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c09bd64c-e50c-4196-863b-dc6e71a6fd88",
   "metadata": {},
   "source": [
    "## QUESTION 5_a"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "bf9a5ce3-de29-4baa-9e9c-a458cb8a34ef",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "22b6200a-a5ef-4c55-8898-45d522b84f62",
   "metadata": {},
   "source": [
    "## QUESTION 5_b"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "id": "b2ffb968-5c56-4db6-bc8f-dd9588466467",
   "metadata": {},
   "outputs": [],
   "source": [
    "def portfolio_return(weights, returns):\n",
    "    return weights.T@returns"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "id": "75af3be7-4e36-4aed-b738-b71fd75356d3",
   "metadata": {},
   "outputs": [],
   "source": [
    "def portfolio_var(weights, covariance_matrix):\n",
    "    return weights.T@covariance_matrix@weights"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "id": "7477dc9a-c558-4b06-82cb-32edcc7b8db4",
   "metadata": {},
   "outputs": [],
   "source": [
    "def portfolio_vol(weights, covariance_matrix):\n",
    "    return np.sqrt(weights.T@covariance_matrix@weights)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "id": "20c42c4a-e912-4e19-90d2-255986c62f9e",
   "metadata": {},
   "outputs": [],
   "source": [
    "def minimize_vol(target_return, returns, covariance):\n",
    "    from scipy.optimize import minimize\n",
    "    n = returns.shape[0]\n",
    "    init_guess = np.repeat(1/n, n)\n",
    "    bounds = ((0.0,1.0),)*n \n",
    "    weights_sum_to_1 = {'type':'eq',\n",
    "                       'fun': lambda weights: np.sum(weights)-1}\n",
    "    return_is_target = {'type':'eq',\n",
    "                        'args':(returns,),\n",
    "                       'fun': lambda weights, returns:portfolio_return(weights,returns)-target_return}\n",
    "    weights = minimize(portfolio_var, init_guess,\n",
    "                      args=(covariance,),\n",
    "                      method='SLSQP',\n",
    "                       bounds=bounds,\n",
    "                       constraints=(weights_sum_to_1,return_is_target))\n",
    "    return weights.fun"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 49,
   "id": "ed0ffbcb-cfe5-4923-9132-b5ef052ca6df",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.0001124335562631652"
      ]
     },
     "execution_count": 49,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "minimize_vol(0.10, annual_2A, annual_covA)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "id": "ff3f39d7-65d2-4645-a538-dea4f1cbd225",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.0007364858576559221"
      ]
     },
     "execution_count": 50,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "minimize_vol(0.10, annual_2B, annual_covB)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b78c14b3-372f-4067-b85f-bffa50dc784f",
   "metadata": {},
   "source": [
    "## QUESTION 5_d"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "id": "6be3233b-9588-4c3f-92ee-2d298071775c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.004630529593226846"
      ]
     },
     "execution_count": 51,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "minimize_vol(0.10, annual_2C, annual_covC)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "dbb8731e-6d48-4744-aebe-835c3c012dc5",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.8"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
